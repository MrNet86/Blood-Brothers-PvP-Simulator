<!DOCTYPE html>
<html>
<head>
    <title>Blood Brothers Simulator</title>
    <meta name="description" content="A PvP Simulator for the Blood Brothers RPG game">
    <meta name="keywords" content="blood, brothers, simulator, PvP, RPG">
    <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans:900' rel='stylesheet' type='text/css'>

    <script src="compiled.js"></script>

    <script>
        if (document.location.hostname.search("chinhodado.github.io") !== -1) {
            //google analytics code goes here
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-38672868-6', 'chinhodado.github.io');
            ga('send', 'pageview');
        }        
    </script>
</head>
<body style="width: 100%; text-align: center;">
<div style="display: inline-block;">
    <h1>Blood Brothers Simulator</h1>
    <form action="game.html" method="GET" onsubmit="return validateForm()" name="mainForm">

        <p>Player 2</p>
        <select name="f10" class="famSelect randomize p2"></select>
        <select name="f11" class="famSelect randomize p2"></select>
        <select name="f12" class="famSelect randomize p2"></select>
        <select name="f13" class="famSelect randomize p2"></select>
        <select name="f14" class="famSelect randomize p2"></select>
        <br><br>
        <select name="2f" class="randomize p2">
            <option value="0">5-Skein</option>
            <option value="1">5-Valley</option>
            <option value="2">5-Tooth</option>
            <option value="3">5-Wave</option>
            <option value="4">5-Front</option>
            <option value="5">5-Mid</option>
            <option value="6">5-Rear</option>
            <option value="7">5-Pike</option>
            <option value="8">5-Shield</option>
            <option value="9">5-Pincer</option>
        </select>
        <br /><br />
        Warlord Skills: 

        Skill 1: <select name="s20" class="skillSelect randomize p2"></select>
        Skill 2: <select name="s21" class="skillSelect randomize p2"></select>
        Skill 3: <select name="s22" class="skillSelect randomize p2"></select>

        <br /><br />
        Random <input type="checkbox" name="r2" onchange="toogleDisable(2, this.checked)"/>

        <br><br><br><br>

        <p>Player 1</p>
        <select name="f0" class="famSelect randomize p1"></select>
        <select name="f1" class="famSelect randomize p1"></select>
        <select name="f2" class="famSelect randomize p1"></select>
        <select name="f3" class="famSelect randomize p1"></select>
        <select name="f4" class="famSelect randomize p1"></select>
        <br><br>
        <select name="1f" class="randomize p1">
            <option value="0">5-Skein</option>
            <option value="1">5-Valley</option>
            <option value="2">5-Tooth</option>
            <option value="3">5-Wave</option>
            <option value="4">5-Front</option>
            <option value="5">5-Mid</option>
            <option value="6">5-Rear</option>
            <option value="7">5-Pike</option>
            <option value="8">5-Shield</option>
            <option value="9">5-Pincer</option>
        </select>
        <br /><br />
        Warlord Skills:

        Skill 1: <select name="s10" class="skillSelect randomize p1"></select>
        Skill 2: <select name="s11" class="skillSelect randomize p1"></select>
        Skill 3: <select name="s12" class="skillSelect randomize p1"></select>

        <br /><br />
        Random <input type="checkbox" name="r1"  onchange="toogleDisable(1, this.checked)" />

        <br><br>
        Mode:
        <select name="mode">
            <option value="normal">Normal</option>
            <option value="sim">Simulation</option>
        </select>

        <input type="checkbox" name="debug" value="true">Debug 

        <script type="text/javascript">
            var famSelects = document.getElementsByClassName("famSelect");

            // create an array of fam id and sort it based on the fam's full name
            var famIdArray = [];
            for (var key in famDatabase) {
                famIdArray.push(key);
            }
            famIdArray.sort(function (a, b) {
                return famDatabase[a].fullName.localeCompare(famDatabase[b].fullName);
            });

            for (var i = 0; i < famSelects.length; i++) {
                for (var index = 0; index < famIdArray.length; index++) {
                    var key = famIdArray[index];
                    var option = document.createElement("option");
                    option.value = key;
                    option.text = famDatabase[key].fullName;
                    famSelects[i].add(option);
                }
            };

            //////////////skills////////////////////////////////

            var skillSelects = document.getElementsByClassName("skillSelect");

            // create an array of skill id and sort it based on the skill's name
            var skillIdArray = [];
            for (var key in SkillDatabase) {
                if (!SkillDatabase[key].isAutoAttack) {
                    skillIdArray.push(key);
                }                
            }
            skillIdArray.sort(function (a, b) {
                return SkillDatabase[a].name.localeCompare(SkillDatabase[b].name);
            });

            for (var i = 0; i < skillSelects.length; i++) {
                for (var index = 0; index < skillIdArray.length; index++) {
                    var key = skillIdArray[index];
                    var option = document.createElement("option");
                    option.value = key;
                    option.text = SkillDatabase[key].name;
                    skillSelects[i].add(option);
                }
            };

            function toogleDisable(player, isSelected) {
                var elems = document.getElementsByClassName("p" + player);
                for (var i = 0; i < elems.length; i++) {
                    if (isSelected) {
                        elems[i].disabled = true;
                    }
                    else {
                        elems[i].disabled = false;
                    }
                }
            }
        </script>

        <br><br><br>

        <button type="button" id="randomizeButton">Randomize</button>
        <input type="submit" value="Start">
            
    </form>

    <a href="https://github.com/chinhodado/bb_pvp_simulator" target="_blank">
        <img style="position: absolute; top: 0; right: 0; border: 0;"
             src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67"
             alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
    </a>
    
    <script type="text/javascript">
        var randomizeButton = document.getElementById("randomizeButton");
        randomizeButton.onclick = function() {
            var selects = document.getElementsByClassName("randomize");
            for (var i = 0; i < selects.length; i++) {
                var options = selects[i].getElementsByTagName("option");
                options[Math.floor(Math.random() * options.length)].selected = true;
            };
        }

        function validateForm() {
            // put any validation for the form here
            return true;
        }
    </script>
</div>
</body>
</html>